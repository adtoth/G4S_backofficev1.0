jQuery.sap.require("sap.ui.demo.myFiori.util.Formatter");
jQuery.sap.require("sap.ui.demo.myFiori.util.Grouper");
sap.ui.controller("sap.ui.demo.myFiori.view.depoMaster", {
	

	

	handleNavButtonPress : function(evt) {
		this.nav.back("Master");
	},

	onBeforeRendering: function(){ // binding model synchronisation
		window.globalUtanvetView = this.getView(); 
        this.getView().addDelegate({ onAfterShow: function(evt) { 
        	var total = 0;
        	sap.ui.getCore().getModel().read("/Item", null, {
    		}, true, function(response) {
    			for(var i = 0; i < 5000; i++){
    				total += sap.ui.getCore().getModel().getProperty("/Item(" + response.results[i].Id + ")/Price");	
    				globalUtanvetView.byId("total_id").setNumber(total);
    			}		
    		});
        }});
	},

});